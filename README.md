# 漢字 Kanji Ganbare App

A React app for studying Japanese kanji through vocabulary, not just rote memorisation.

![React](https://img.shields.io/badge/React-18.2-61DAFB?logo=react&logoColor=white)
![Vite](https://img.shields.io/badge/Vite-5.0-646CFF?logo=vite&logoColor=white)
![Supabase](https://img.shields.io/badge/Supabase-Backend-3ECF8E?logo=supabase&logoColor=white)
![Vercel](https://img.shields.io/badge/Vercel-Deployed-000?logo=vercel&logoColor=white)

## Why This Exists

Most kanji apps show you `on'yomi: ショ, kun'yomi: かく` and call it a day. But readings don't stick that way — they stick when you see them *in words*. This app flips the model: **kanji ↔ vocab ↔ reading**, not kanji → meaning.

## Features

### ![Vocabulary](https://img.shields.io/badge/-Vocabulary--First_Learning-4A90A4?style=flat-square) 
- Study readings through actual vocabulary, not isolated readings
- Flashcards show the kanji overview, then cycle through related vocabulary
- Quizzes test kanji → meaning, vocab → reading, and vocab → meaning
- Readings are ordered by frequency — learn what's actually used first

### ![Mnemonics](https://img.shields.io/badge/-Mnemonics-9B59B6?style=flat-square)
- Each kanji includes a radical breakdown and story-based memory hook
- Reading mnemonics to help recall pronunciation
- **Custom mnemonics** — write and save your own, because sometimes the weird personal story is the one that sticks

### ![Writing](https://img.shields.io/badge/-Writing_Practice-E67E22?style=flat-square)
- Stroke animations via [KanjiVG](https://kanjivg.tagaini.net/) (fetched dynamically by Unicode codepoint)
- Canvas-based drawing to practice and retry

### ![Study Plan](https://img.shields.io/badge/-Study_Plan-27AE60?style=flat-square)
- Select which kanji you want to learn
- Week-by-week breakdown with drag-and-drop reordering
- Ordered by stroke count — simpler kanji before complex ones
- SRS (spaced repetition) engine tracks progress per item:
  - Correct → stage increments
  - Wrong → stage resets
- Smart review queue balances reinforcement with forward progress

### ![Accounts](https://img.shields.io/badge/-User_Accounts-3498DB?style=flat-square)
- Sign in to save progress across devices
- Track known kanji
- Set weekly goals

## How It's Built

### Architecture
- **Frontend:** React + Vite, hosted on Vercel
- **Backend:** Supabase (auth + Postgres database)
- **Data principle:** Kanji data is global, study state is user-specific

### Data Pipeline
Nothing is hardcoded. Population scripts pull from external APIs and normalize into Supabase:

| Data | Source |
|------|--------|
| Kanji (meanings, readings, stroke count, JLPT) | [KanjiAPI](https://kanjiapi.dev/) |
| Vocabulary | [Jisho API](https://jisho.org/) — fetched per kanji, filtered by JLPT |
| Stroke SVGs | [KanjiVG](https://kanjivg.tagaini.net/) — fetched at runtime |
| Mnemonics | Generated with Claude |

Data cleaning included reordering meanings/readings by frequency (e.g., for 下 "shita" — filtering to the key readings that matter).

### Database Schema

```
Global (shared):        User-specific:
├── kanji              ├── study_queue
├── vocab              ├── user_known_kanji
├── mnemonics          └── user_mnemonics
```

The SRS engine tracks `stage` and `next_review` per item. The review queue is generated by `getDueForReview(userId, weeklyGoal)`, merging overdue items with new kanji.

## Getting Started

```bash
# Clone the repository
git clone https://github.com/datadevgron/kanji-study.git
cd kanji-study/kanji-react-app

# Install dependencies
npm install

# Start development server
npm run dev
```

Open `http://localhost:5173` in your browser.

### Scripts

| Command | Description |
|---------|-------------|
| `npm run dev` | Start development server |
| `npm run build` | Build for production |
| `npm run preview` | Preview production build |

## Project Structure

```
src/
├── components/
│   ├── Auth.jsx           # Authentication
│   ├── Flashcards.jsx     # Vocab-based flashcards
│   ├── Home.jsx           # JLPT level browser
│   ├── KanjiPage.jsx      # Kanji detail view
│   ├── Quiz.jsx           # Typed answer quizzes
│   ├── ReviewQuiz.jsx     # SRS review sessions
│   ├── StudyPlan.jsx      # Weekly study planner
│   ├── StudySettings.jsx  # User preferences
│   └── WritingPractice.jsx
├── data/                  # Static data
├── lib/                   # Services (auth, kanji, study, SRS)
└── App.jsx

scripts/                   # Data population scripts
├── populate_kanji.js
├── populate_vocab.js
├── populate_mnemonics.js
└── ...
```
